{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Professional Profile",
  "description": "Schema for profile.json - the single source of truth for professional profile data",
  "type": "object",
  "required": ["metadata", "profile", "skills", "projects"],
  "properties": {
    "metadata": {
      "type": "object",
      "required": ["version", "lastUpdated", "language"],
      "properties": {
        "version": {
          "type": "string",
          "pattern": "^\\d+\\.\\d+\\.\\d+$",
          "description": "Semantic version of profile data"
        },
        "lastUpdated": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp"
        },
        "language": {
          "type": "string",
          "enum": ["es", "en"],
          "default": "es"
        },
        "style": {
          "type": "object",
          "properties": {
            "useMonospaceFont": {
              "type": "boolean",
              "default": true,
              "description": "Convert text to monospace unicode characters"
            },
            "theme": {
              "type": "string",
              "enum": ["dark", "light"],
              "default": "dark"
            }
          }
        }
      }
    },
    "profile": {
      "type": "object",
      "required": ["name", "title", "tagline", "about"],
      "properties": {
        "name": {
          "type": "string",
          "minLength": 1
        },
        "title": {
          "type": "string",
          "description": "Professional title/headline"
        },
        "tagline": {
          "type": "string",
          "description": "Personal tagline/motto"
        },
        "about": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Bullet points about yourself"
        },
        "contact": {
          "type": "object",
          "properties": {
            "email": {
              "type": "string",
              "format": "email"
            },
            "phone": {
              "type": "string"
            },
            "location": {
              "type": "string"
            },
            "website": {
              "type": "string",
              "format": "uri"
            },
            "linkedin": {
              "type": "string",
              "description": "LinkedIn username"
            },
            "github": {
              "type": "string",
              "description": "GitHub username"
            }
          }
        },
        "avatar": {
          "type": "object",
          "properties": {
            "path": {
              "type": "string",
              "description": "Relative path to avatar/logo image"
            },
            "alt": {
              "type": "string"
            }
          }
        }
      }
    },
    "experience": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["position", "company", "startDate"],
        "properties": {
          "position": {
            "type": "string"
          },
          "company": {
            "type": "string"
          },
          "location": {
            "type": "string"
          },
          "startDate": {
            "type": "string",
            "pattern": "^\\d{4}-\\d{2}$",
            "description": "YYYY-MM format"
          },
          "endDate": {
            "type": ["string", "null"],
            "pattern": "^(\\d{4}-\\d{2}|present)$",
            "description": "YYYY-MM or 'present'"
          },
          "description": {
            "type": "string"
          },
          "highlights": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "technologies": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "education": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["degree", "institution", "graduationDate"],
        "properties": {
          "degree": {
            "type": "string"
          },
          "institution": {
            "type": "string"
          },
          "location": {
            "type": "string"
          },
          "graduationDate": {
            "type": "string",
            "pattern": "^\\d{4}(-\\d{2})?$"
          },
          "gpa": {
            "type": "string"
          },
          "honors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "certifications": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name", "issuer"],
        "properties": {
          "name": {
            "type": "string"
          },
          "issuer": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "pattern": "^\\d{4}-\\d{2}$"
          },
          "expiryDate": {
            "type": ["string", "null"],
            "pattern": "^\\d{4}-\\d{2}$"
          },
          "credentialId": {
            "type": "string"
          },
          "url": {
            "type": "string",
            "format": "uri"
          }
        }
      }
    },
    "skills": {
      "type": "object",
      "required": ["categories"],
      "properties": {
        "categories": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["name", "icon", "technologies"],
            "properties": {
              "name": {
                "type": "string",
                "description": "Category name (e.g., Frontend, Backend, Hosting)"
              },
              "icon": {
                "type": "string",
                "description": "Emoji or icon"
              },
              "technologies": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": ["name", "badge"],
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "badge": {
                      "type": "object",
                      "required": ["url"],
                      "properties": {
                        "url": {
                          "type": "string",
                          "format": "uri",
                          "description": "shields.io badge URL"
                        },
                        "alt": {
                          "type": "string"
                        }
                      }
                    },
                    "proficiency": {
                      "type": "string",
                      "enum": ["beginner", "intermediate", "advanced", "expert"]
                    },
                    "yearsOfExperience": {
                      "type": "number",
                      "minimum": 0
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "projects": {
      "type": "object",
      "properties": {
        "featured": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["title", "description"],
            "properties": {
              "title": {
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "longDescription": {
                "type": "string",
                "description": "Extended description for CV"
              },
              "url": {
                "type": "string",
                "format": "uri"
              },
              "repository": {
                "type": "string",
                "format": "uri"
              },
              "image": {
                "type": "object",
                "properties": {
                  "path": {
                    "type": "string",
                    "description": "Relative path to project image"
                  },
                  "alt": {
                    "type": "string"
                  }
                }
              },
              "technologies": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "highlights": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "status": {
                "type": "string",
                "enum": ["active", "completed", "archived", "in-progress"]
              },
              "featured": {
                "type": "boolean",
                "default": true
              }
            }
          }
        }
      }
    },
    "stats": {
      "type": "object",
      "properties": {
        "github": {
          "type": "object",
          "properties": {
            "username": {
              "type": "string"
            },
            "showStats": {
              "type": "boolean",
              "default": true
            },
            "showStreaks": {
              "type": "boolean",
              "default": true
            },
            "theme": {
              "type": "string",
              "default": "dark"
            }
          }
        }
      }
    },
    "integrations": {
      "type": "object",
      "properties": {
        "linkedin": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "postOnUpdate": {
              "type": "boolean",
              "default": true,
              "description": "Create announcement post when profile updates"
            },
            "postTemplate": {
              "type": "string",
              "description": "Custom template for announcement post"
            }
          }
        }
      }
    }
  }
}
